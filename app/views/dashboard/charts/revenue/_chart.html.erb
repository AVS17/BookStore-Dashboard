<div data-controller="revenue" data-revenue-sells="<%= revenue_from_sells %>" id="revenue_chart" class="m-2">
    <canvas id="revenueSells" style="width:100%;max-width:700px"></canvas>
    <div class="flex flex-col p-5 my-3 bg-white rounded">
        <h5 class="my-3 text-xl font-bold text-center">Sells per Book </h5>
        <table class="my-3">
            <div class="flex w-full">
                <div class="flex items-center justify-center w-1/3 text-sm font-semibold text-center border-2">ID</div>
                <div class="flex items-center justify-center w-1/3 text-sm font-semibold text-center border-2">Name</div>
                <div class="flex items-center justify-center w-1/3 text-sm font-semibold text-center border-2">Revenue</div>
            </div>
            <div class="flex flex-col">
                <% Book.all.each do |book|%>
                    <div class="flex">
                        <div class="flex items-center justify-center w-1/3 text-sm font-semibold text-center border-2"><%= book.id%></div>
                        <div class="flex items-center justify-center w-1/3 text-sm font-semibold text-center border-2"><%= book.name%></div>
                        <div class="flex items-center justify-center w-1/3 text-sm font-semibold text-center border-2"><%= book.sells.sum(:total).round(2)%> USD</div>
                    </div>
                <% end %>       
            </div>
        </table>
         <div class="flex justify-end">
            <p class="text-2xl font-bold">Total revenue:  <spam class="text-2xl font-normal"><%= Sell.all.sum(:total).round(2)%></spam> USD</p>
        </div>
    </div>
</div>
